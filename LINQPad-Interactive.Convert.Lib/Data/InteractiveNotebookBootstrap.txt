#r "nuget:LINQPad.Runtime"
using LINQPad;
using Microsoft.AspNetCore.Html;

public static void Dump<T>(this T objectToSerialize)
{
    var writer = LINQPad.Util.CreateXhtmlWriter(true);
    writer.Write(objectToSerialize);
    string strHTML = writer.ToString();
    
    display(new HtmlString(strHTML.Replace("background:white","").Replace(";background-color:white","").Replace("background-color:#ddd;","")));
}

public static void Dump<T>(this T objectToSerialize, string heading)
{
    Util.WithHeading(objectToSerialize, heading).Dump();
}